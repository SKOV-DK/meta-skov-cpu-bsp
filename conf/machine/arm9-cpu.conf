#@TYPE: Machine
#@NAME: ARM9
#@DESCRIPTION: Common machine configuration for all ARM9 variants

require conf/machine/include/soc-family.inc

MACHINEOVERRIDES .= ":arm9-cpu"

MACHINE_EXTRA_RRECOMMENDS = " kernel-modules"

EXTRA_IMAGEDEPENDS += "virtual/bootloader"

require conf/machine/include/arm/armv5/tune-arm926ejs.inc

IMAGE_FSTYPES += "tar.bz2 ext4"

SERIAL_CONSOLES = "115200;ttyS0"

PREFERRED_PROVIDER_virtual/bootloader = "barebox"
PREFERRED_PROVIDER_virtual/kernel ?= "linux-skov"

BAREBOX_IMAGE = "barebox-skov-arm9cpu.img"

KERNEL_IMAGETYPE = "zImage"

MACHINE_FEATURES = "usbhost vfat touchscreen serial rtc"

SOC_FAMILY = "at91sam"

# The image's target medium decides indirectly which IMAGE_FSTYPES are created.
# It is set to "NAND" per default here and can be overwritten to be "SD" in your
# local.conf or from the bitbake-commandline via
#   $ env TARGET_MEDIUM="SD" BB_ENV_PASSTHROUGH_ADDITIONS="$BB_ENV_PASSTHROUGH_ADDITIONS" bitbake [...]
TARGET_MEDIUM ?= "NAND"
