From: =?UTF-8?q?Uwe=20Kleine-K=C3=B6nig?= <u.kleine-koenig@pengutronix.de>
Date: Thu, 25 Feb 2016 10:07:10 +0100
Subject: [PATCH] Skov: add support for board variants 16 and 17

---
 arch/arm/boards/skov-dol63x/lowlevel.c | 22 ++++++++++++++++++++++
 arch/arm/boards/skov-dol63x/version.c  | 18 ++++++++++++++++++
 2 files changed, 40 insertions(+)

diff --git a/arch/arm/boards/skov-dol63x/lowlevel.c b/arch/arm/boards/skov-dol63x/lowlevel.c
index ac83ea9d9c75..5f3f24d840e2 100644
--- a/arch/arm/boards/skov-dol63x/lowlevel.c
+++ b/arch/arm/boards/skov-dol63x/lowlevel.c
@@ -686,6 +686,9 @@ static inline unsigned skov_dol63x_get_version(int cpu_type)
  * 00001101       C     256 MiB    256 MiB     i.MX6S
  * 00001110       C    1024 MiB    256 MiB     i.MX6Q
  * 00001111       C     512 MiB    256 MiB     i.MX6S
+ * 00010000       ?     512 MiB      4 GiB     i.MX6S
+ * 00010001       ?    2048 MiB      8 GiB     i.MX6Q
+ * 00010010       ?    4096 MiB     16 GiB     i.MX6Q+
  *
  * This routine does not return if starting the image from SD card or NOR
  * was successful. It restarts skov_dol63x_start() instead
@@ -786,6 +789,25 @@ static void skov_dol63x_init(int cpu_type, unsigned board_variant)
 					&skov_dol63x_calib_2x128Mb_800MHz,
 					&skov_dol63x_cfg_2x128Mb_800MHz);
 		break;
+	case 16: /* i.MX6S "Solo_R512M_F4G" */
+		if (cpu_type != IMX6_CPUTYPE_IMX6S) {
+			pr_err("Invalid SoC! i.MX6S expected\n");
+			return;
+		}
+		pr_debug("Initializing for board variant 16\n");
+		spl_imx6sdl_dram_init(&skov_dol63x_sysinfo_4x128Mb_1066MHz,
+					&skov_dol63x_calib_4x128Mb_1066MHz,
+					&skov_dol63x_cfg_4x128Mb_1066MHz);
+	case 17: /* i.MX6Q "Quad_R2G_F8G" */
+		if (cpu_type != IMX6_CPUTYPE_IMX6Q) {
+			pr_err("Invalid SoC! i.MX6Q expected\n");
+			return;
+		}
+		pr_debug("Initializing for board variant 17\n");
+		spl_imx6q_dram_init(&skov_dol63x_sysinfo_4x256Mb_1066MHz,
+					&skov_dol63x_calib_4x256Mb_1066MHz,
+					&skov_dol63x_cfg_4x256Mb_1066MHz);
+
 	default:
 		pr_err("Unsupported board revision: 0x%x\n", board_variant);
 		/* FIXME don't continue */
diff --git a/arch/arm/boards/skov-dol63x/version.c b/arch/arm/boards/skov-dol63x/version.c
index a18a0e460c89..d2c5a497b346 100644
--- a/arch/arm/boards/skov-dol63x/version.c
+++ b/arch/arm/boards/skov-dol63x/version.c
@@ -96,6 +96,24 @@ static const struct board_description dol63x_variants[] = {
 		.soc = "i.MX6S",
 		.dts_compatible = "skov,dol63x-imxdl-revC",
 	},
+	[16] = {
+		.value = "Solo_R512M_F4G", /* XXX */
+		.revision = "?", /* XXX */
+		.soc = "i.MX6S",
+		.dts_compatible = "skov,dol63x-imxdl-revC", /* XXX */
+	},
+	[17] = {
+		.value = "Quad_R2G_F8G", /* XXX */
+		.revision = "?", /* XXX */
+		.soc = "i.MX6Q",
+		.dts_compatible = "skov,dol63x-imxdl-revC", /* XXX */
+	},
+	[18] = {
+		.value = "QuadPlus_R4G_F16G", /* XXX */
+		.revision = "?", /* XXX */
+		.soc = "i.MX6Q+",
+		.dts_compatible = "skov,dol63x-imxdl-revC", /* XXX */
+	},
 };
 
 /*
