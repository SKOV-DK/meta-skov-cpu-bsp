From: Juergen Borleis <jbe@pengutronix.de>
Date: Wed, 2 Dec 2015 12:20:28 +0100
Subject: [PATCH] DTS: two RTCs are available, but one should be used as a time
 source only
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

The kernel should be configured to use /dev/rtc0 as its time source.
Ensure /dev/rtc0 is always the IÂ²C based external RTC and never the
internal one.

Signed-off-by: Juergen Borleis <jbe@pengutronix.de>
---
 arch/arm/boot/dts/imx6qdl-cpu.dtsi | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/arch/arm/boot/dts/imx6qdl-cpu.dtsi b/arch/arm/boot/dts/imx6qdl-cpu.dtsi
index 464e4a68eb01..d62efafaceff 100644
--- a/arch/arm/boot/dts/imx6qdl-cpu.dtsi
+++ b/arch/arm/boot/dts/imx6qdl-cpu.dtsi
@@ -31,6 +31,8 @@
 		nand = &gpmi;
 		usb0 = &usbh1;
 		usb1 = &usbotg;
+		rtc0 = &i2c_rtc;
+		rtc1 = &snvs;
 	};
 
 	leds {
@@ -319,7 +321,7 @@
 	pinctrl-names = "default";
 	pinctrl-0 = <&pinctrl_i2c3_2>;
 
-	pcf85063@51 {
+	i2c_rtc: pcf85063@51 {
 		compatible = "nxp,pcf85063";
 		reg = <0x51>;
 		quartz_load = "12.5pF";
