From: Juergen Borleis <jbe@pengutronix.de>
Date: Tue, 24 Nov 2015 15:16:15 +0100
Subject: [PATCH] DTS: since revision B the backlight has an additional GPIO to
 enable it

Signed-off-by: Juergen Borleis <jbe@pengutronix.de>
---
 arch/arm/boot/dts/imx6qdl-cpu.dtsi  |  9 ---------
 arch/arm/boot/dts/imx6qdl-cpuB.dtsi | 26 ++++++++++++++++++++------
 2 files changed, 20 insertions(+), 15 deletions(-)

diff --git a/arch/arm/boot/dts/imx6qdl-cpu.dtsi b/arch/arm/boot/dts/imx6qdl-cpu.dtsi
index c23c292dea62..8719039e804b 100644
--- a/arch/arm/boot/dts/imx6qdl-cpu.dtsi
+++ b/arch/arm/boot/dts/imx6qdl-cpu.dtsi
@@ -213,7 +213,6 @@
 		brightness-levels = <0 16 32 48 64 80 96 112 128 144 160 176 192 208 224 240 255>;
 		default-brightness-level = <8>;
 		power-supply = <&reg_24p0v>;
-		enable-gpios = <&gpio6 23 GPIO_ACTIVE_LOW>;
 		status = "okay";
 	};
 
@@ -230,14 +229,6 @@
 	};
 };
 
-&gpio6 {
-	backlight {
-		gpios = <23 0>;
-		output-high;
-		gpio-initval;
-	};
-};
-
 &ipu1_di0_disp0 {
 	remote-endpoint = <&display0_in>;
 };
diff --git a/arch/arm/boot/dts/imx6qdl-cpuB.dtsi b/arch/arm/boot/dts/imx6qdl-cpuB.dtsi
index ecbcfe835aa0..ae7f72d4b52e 100644
--- a/arch/arm/boot/dts/imx6qdl-cpuB.dtsi
+++ b/arch/arm/boot/dts/imx6qdl-cpuB.dtsi
@@ -11,12 +11,6 @@
  * http://www.gnu.org/copyleft/gpl.html
  */
 
-&pinctrl_hog {
-	fsl,pins = <
-		MX6QDL_PAD_RGMII_TD3__GPIO6_IO23        0x80000000      /* BKLGT_SHDN */
-	>;
-};
-
 &pinctrl_board {
 	pinctrl_flexcan2_1: flexcan2grp-1 {
 		fsl,pins = <
@@ -30,6 +24,26 @@
 			MX6QDL_PAD_EIM_D19__GPIO3_IO19		0xb0	/* TSC2046 Pen down irq */
 		>;
 	};
+
+	pinctrl_backlight: backlight_grp {
+		fsl,pins = <
+			MX6QDL_PAD_RGMII_TD3__GPIO6_IO23	0x1b0b0
+		>;
+	};
+};
+
+&backlight_lcd {
+	pinctrl-names = "default";
+	pinctrl-0 = <&pinctrl_backlight>;
+	enable-gpios = <&gpio6 23 GPIO_ACTIVE_LOW>;
+};
+
+&gpio6 {
+	backlight {
+		gpios = <23 0>; /* initially switch off the panel backlight */
+		output-high;
+		gpio-initval;
+	};
 };
 
 &ads7846 {
